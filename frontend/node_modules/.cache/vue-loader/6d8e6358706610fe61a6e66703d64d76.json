{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/StockPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/StockPage.vue","mtime":1621948885000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1621533182000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgCiAgICAgIGlzQnVzeTogZmFsc2UsCiAgICAgIHN0cmlwZWQ6IGZhbHNlLAogICAgICBoZWFkVmFyaWFudDogJ2xpZ2h0JywKICAgICAgZmllbGRzOiBbCiAgICAgICAge2tleTogJ3N0b2NrX25hbWUnLCBsYWJlbDogJ9CQ0LrRhtC40Y8nLCBzb3J0YWJsZTogdHJ1ZSwgc29ydERpcmVjdGlvbjogJ2Rlc2MnfSwKICAgICAgICB7a2V5OiAnc3RvY2tfc2VjdG9yJywgbGFiZWw6ICfQodC10LrRgtC+0YAnLCBzb3J0YWJsZTogdHJ1ZSwgc29ydERpcmVjdGlvbjogJ2Rlc2MnfSwKICAgICAgICB7a2V5OiAnc3RvY2tfaW5kdXN0cnknLCBsYWJlbDogJ9CY0L3QtNGD0YHRgtGA0LjRjycsIHNvcnRhYmxlOiB0cnVlLCBjbGFzczogJ3RleHQtbGVmdCd9LAogICAgICAgIHtrZXk6ICdzdG9ja19pZGVudGlmaWVyJywgbGFiZWw6ICfQmNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgCcsIHNvcnRhYmxlOiB0cnVlLCBjbGFzczogJ3RleHQtbGVmdCd9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ3N0b2NrX2FjdGl2aXR5JywKICAgICAgICAgIGxhYmVsOiAn0JDQutGC0LjQstC90L7RgdGC0YwnLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICBzb3J0QnlGb3JtYXR0ZWQ6IHRydWUsCiAgICAgICAgICBmaWx0ZXJCeUZvcm1hdHRlZDogdHJ1ZSwKICAgICAgICAgIGZvcm1hdHRlcjogKHZhbHVlKSA9PiB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICfQkNC60YLQuNCy0L3QsCcKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gJ9Cd0LUg0LDQutGC0LjQstC90LAnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7a2V5OiAnYWN0aW9ucycsIGxhYmVsOiAn0KPQtNCw0LvQuNGC0YwnfSwKICAgICAgXSwKICAgICAgaW5mb01vZGFsOiB7CiAgICAgICAgaWQ6ICdpbmZvLW1vZGFsJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgY29udGVudDogJycsCiAgICAgIH0sCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogJ3RpY2tlcicsCiAgfSwKICBjb21wdXRlZDogewogICAgIHN0b2NrX3N0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RvY2sKICAgIH0sCiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgcm93Q2xhc3MoaXRlbSwgdHlwZSkgewogICAgICBpZiAoIWl0ZW0gfHwgdHlwZSAhPT0gJ3JvdycpIHJldHVybgogICAgICBpZiAoaXRlbS5zdG9ja19hY3Rpdml0eSA9PT0gZmFsc2UpIHJldHVybiAndGFibGUtcm93LW5vYWN0aXZlJwogICAgfSwKICAgIGluZm8oaXRlbSwgaW5kZXgsIGJ1dHRvbikgewogICAgICB0aGlzLmluZm9Nb2RhbC50aXRsZSA9IGBSb3cgaW5kZXg6ICR7aW5kZXh9YAogICAgICB0aGlzLmluZm9Nb2RhbC5jb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoaXRlbSwgbnVsbCwgMikKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnYnY6OnNob3c6Om1vZGFsJywgdGhpcy5pbmZvTW9kYWwuaWQsIGJ1dHRvbikKICAgIH0sCiAgICByZXNldEluZm9Nb2RhbCgpIHsKICAgICAgdGhpcy5pbmZvTW9kYWwudGl0bGUgPSAnJwogICAgICB0aGlzLmluZm9Nb2RhbC5jb250ZW50ID0gJycKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["StockPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StockPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <b-table\n      striped\n      bordered\n      :tbody-tr-class=\"rowClass\"\n      :head-variant=\"headVariant\"\n      :busy=\"isBusy\"\n      :items=\"stock_state\"\n      :fields=\"fields\"\n      stacked=\"md\"\n      show-empty\n      small\n    >\n      <template #table-busy>\n        <div class=\"text-center text-danger my-2\">\n          <b-spinner small class=\"align-middle\"></b-spinner>\n          <strong>Загрузка...</strong>\n        </div>\n      </template>\n      <template #cell(name)=\"row\">{{ row.value.first }} {{ row.value.last }}</template>\n\n      <template #cell(actions)=\"row\">\n        <b-button size=\"sm\" @click=\"info(row.item, row.index, $event.target)\">\n          Удалить\n        </b-button>\n      </template>\n      <template #table-caption>\n        <b class=\"float-right\">Итого: {{stock_state.length}}</b>\n      </template>\n    </b-table>\n    <!-- Info modal -->\n    <b-modal :id=\"infoModal.id\" :title=\"infoModal.title\" ok-only @hide=\"resetInfoModal\">\n      <pre>{{ infoModal.content }} </pre>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      \n      isBusy: false,\n      striped: false,\n      headVariant: 'light',\n      fields: [\n        {key: 'stock_name', label: 'Акция', sortable: true, sortDirection: 'desc'},\n        {key: 'stock_sector', label: 'Сектор', sortable: true, sortDirection: 'desc'},\n        {key: 'stock_industry', label: 'Индустрия', sortable: true, class: 'text-left'},\n        {key: 'stock_identifier', label: 'Идентификатор', sortable: true, class: 'text-left'},\n        {\n          key: 'stock_activity',\n          label: 'Активность',\n          sortable: true,\n          sortByFormatted: true,\n          filterByFormatted: true,\n          formatter: (value) => {\n            if (value == true) {\n              return 'Активна'\n            } else {\n              return 'Не активна'\n            }\n          },\n        },\n        {key: 'actions', label: 'Удалить'},\n      ],\n      infoModal: {\n        id: 'info-modal',\n        title: '',\n        content: '',\n      },\n    }\n  },\n  created() {\n  },\n  watch: {\n    $route: 'ticker',\n  },\n  computed: {\n     stock_state() {\n      return this.$store.state.stock\n    },\n  },\n  mounted() {},\n  methods: {\n    rowClass(item, type) {\n      if (!item || type !== 'row') return\n      if (item.stock_activity === false) return 'table-row-noactive'\n    },\n    info(item, index, button) {\n      this.infoModal.title = `Row index: ${index}`\n      this.infoModal.content = JSON.stringify(item, null, 2)\n      this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    resetInfoModal() {\n      this.infoModal.title = ''\n      this.infoModal.content = ''\n    },\n  },\n}\n</script>\n"]}]}