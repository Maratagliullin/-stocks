{"remainingRequest":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maratagliullin/traiding_project/frontend/stock/src/components/StockForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maratagliullin/traiding_project/frontend/stock/src/components/StockForm.vue","mtime":1621950113000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/babel-loader/lib/index.js","mtime":1621533182000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0b2NrRm9ybScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0b2NrOiBudWxsLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuY3JlYXRlU3RvY2soKQogICAgfSwKICAgIGNyZWF0ZVN0b2NrKCkgewogICAgICAvLyDQktGL0LfRi9Cy0LDQtdC8INC00LXQudGB0YLQstC40LUgYGNyZWF0ZVN0b2NrYCDQuNC3INGF0YDQsNC90LjQu9C40YnQsCwg0LrQvtGC0L7RgNC+0LUKICAgICAgLy8g0L7RgtC/0YDQsNCy0LjRgiDQt9Cw0L/RgNC+0YEg0L3QsCDRgdC+0LfQtNCw0L3QuNC1INC90L7QstC+0Lkg0LDQutGG0LjQuCDQuiDQvdCw0YjQtdC80YMgQVBJLgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY3JlYXRlU3RvY2snLCB7c3RvY2s6IHRoaXMuc3RvY2t9KQogICAgfSwKICAgIG5vdHlmeXVzZXIoZGF0YSkgewogICAgICB2YXIgaQogICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChkYXRhW2ldLnN0YXR1cyA9PSAnZm91bmQnKSB7CiAgICAgICAgICB2YXIgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZQogICAgICAgICAgdmFyIHRpdGxlID0gZGF0YVtpXS50aWtlcgogICAgICAgICAgdmFyIHZhcmlhbnQgPSAnc3VjY2VzcycKICAgICAgICAgIHRoaXMuc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSkKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGFbaV0uc3RhdHVzID09ICdub3RfZm91bmQnKSB7CiAgICAgICAgICB0ZXh0ID0gZGF0YVtpXS5tZXNzYWdlCiAgICAgICAgICB0aXRsZSA9IGRhdGFbaV0udGlrZXIKICAgICAgICAgIHZhcmlhbnQgPSAnZGFuZ2VyJwogICAgICAgICAgdGhpcy5zaG93X3RvYXN0KHRleHQsIHZhcmlhbnQsIHRpdGxlKQogICAgICAgIH0KICAgICAgICBpZiAoZGF0YVtpXS5zdGF0dXMgPT0gJ2VtcHR5X3ZhbHVlJykgewogICAgICAgICAgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZQogICAgICAgICAgdGl0bGUgPSAn0J7RiNC40LHQutCwJwogICAgICAgICAgdmFyaWFudCA9ICdkYW5nZXInCiAgICAgICAgICB0aGlzLnNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpCiAgICAgICAgfQogICAgICAgIGlmIChkYXRhW2ldLnN0YXR1cyA9PSAnZHVibGljYXRlJykgewogICAgICAgICAgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZQogICAgICAgICAgdGl0bGUgPSBkYXRhW2ldLnRpa2VyCiAgICAgICAgICB2YXJpYW50ID0gJ2luZm8nCiAgICAgICAgICB0aGlzLnNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSkgewogICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KHRleHQsIHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgYXV0b0hpZGVEZWxheTogMTUwMDAsCiAgICAgICAgdmFyaWFudDogdmFyaWFudCwKICAgICAgICBhcHBlbmRUb2FzdDogdHJ1ZSwKICAgICAgICBub0Nsb3NlQnV0dG9uOiBmYWxzZSwKICAgICAgfSkKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgbG9hZGluZ19zdGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRlcgogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["StockForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StockForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"stock_block\">\n    <form @submit.prevent=\"onSubmit\">\n      <div class=\"form-group\">\n        <label class=\"col-form-label\" for=\"stock\">Идентификатор акции</label>\n        <textarea\n          rows=\"3\"\n          v-model=\"stock\"\n          name=\"stock\"\n          type=\"text\"\n          class=\"form-control\"\n          id=\"stock\"\n          aria-describedby=\"phoneHelp\"\n          placeholder=\"\"\n        ></textarea>\n        <small id=\"stockHelp\" class=\"form-text text-muted\">\n          Допускается ввод как одного, так и нескольких значений, каждое из которых начинается с новой строки\n        </small>\n      </div>\n      <button class=\"btn btn-primary\">\n        Добавить\n      </button>\n      <transition name=\"fade\">\n        <b-spinner\n          v-show=\"loading_state\"\n          variant=\"info\"\n          style=\"width: 1.5rem; height: 1.5rem; margin-top: 5px;\"\n          class=\"float-right\"\n          label=\"Floated Right\"\n        ></b-spinner>\n      </transition>\n    </form>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'StockForm',\n  data() {\n    return {\n      stock: null,\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.createStock()\n    },\n    createStock() {\n      // Вызываем действие `createStock` из хранилища, которое\n      // отправит запрос на создание новой акции к нашему API.\n      this.$store.dispatch('createStock', {stock: this.stock})\n    },\n    notyfyuser(data) {\n      var i\n      for (i = 0; i < data.length; i++) {\n        if (data[i].status == 'found') {\n          var text = data[i].message\n          var title = data[i].tiker\n          var variant = 'success'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'not_found') {\n          text = data[i].message\n          title = data[i].tiker\n          variant = 'danger'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'empty_value') {\n          text = data[i].message\n          title = 'Ошибка'\n          variant = 'danger'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'dublicate') {\n          text = data[i].message\n          title = data[i].tiker\n          variant = 'info'\n          this.show_toast(text, variant, title)\n        }\n      }\n    },\n    show_toast(text, variant, title) {\n      this.$bvToast.toast(text, {\n        title: title,\n        autoHideDelay: 15000,\n        variant: variant,\n        appendToast: true,\n        noCloseButton: false,\n      })\n    },\n  },\n  computed: {\n    loading_state() {\n      return this.$store.state.loader\n    },\n  },\n}\n</script>\n"]}]}