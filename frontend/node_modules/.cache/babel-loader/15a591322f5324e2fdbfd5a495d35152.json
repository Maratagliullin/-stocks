{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/api/stock.js","dependencies":[{"path":"/app/src/api/stock.js","mtime":1621949732000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1621533182000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":1621533195000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSFRUUCB9IGZyb20gJy4vY29tbW9uJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgdmFyIFN0b2NrID0gewogIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKGNvbmZpZykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gSFRUUC5wb3N0KCcvYWRkX3N0b2NrLycsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgbm90eWZ5dXNlcihyZXNwb25zZS5kYXRhKTsKCiAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzcG9uc2UuZGF0YSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhW2l0ZW1dLnN0YXR1cyAhPSAnZHVibGljYXRlJykgewogICAgICAgICAgcmV0dXJuIF90aGlzLmdldF9zdG9jaygpOwogICAgICAgIH0KICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIG5vdHlmeXVzZXIoZXJyb3IucmVzcG9uc2UuZGF0YSk7IC8vcmV0dXJuIGVycm9yLnJlc3BvbnNlLmRhdGEKICAgIH0pOwogIH0sCiAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKG5vdGUpIHsKICAgIHJldHVybiBIVFRQLmRlbGV0ZSgiL2RlbGV0ZV9zdG9jay8iLmNvbmNhdChub3RlLmlkLCAiLyIpKTsKICB9LAogIGdldF9zdG9jazogZnVuY3Rpb24gZ2V0X3N0b2NrKCkgewogICAgcmV0dXJuIEhUVFAuZ2V0KCcvZ2V0X3N0b2NrLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZnVuY3Rpb24gc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSkgewogIHZhciBtdiA9IG5ldyBWdWUoKTsKICBtdi4kYnZUb2FzdC50b2FzdCh0ZXh0LCB7CiAgICB0aXRsZTogdGl0bGUsCiAgICBhdXRvSGlkZURlbGF5OiAxNTAwMCwKICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICBhcHBlbmRUb2FzdDogdHJ1ZSwKICAgIG5vQ2xvc2VCdXR0b246IGZhbHNlCiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIG5vdHlmeXVzZXIoZGF0YSkgewogIHZhciBpOwoKICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgaWYgKGRhdGFbaV0uc3RhdHVzID09ICdmb3VuZCcpIHsKICAgICAgdmFyIHRleHQgPSBkYXRhW2ldLm1lc3NhZ2U7CiAgICAgIHZhciB0aXRsZSA9IGRhdGFbaV0udGlrZXI7CiAgICAgIHZhciB2YXJpYW50ID0gJ3N1Y2Nlc3MnOwogICAgICBzaG93X3RvYXN0KHRleHQsIHZhcmlhbnQsIHRpdGxlKTsKICAgIH0KCiAgICBpZiAoZGF0YVtpXS5zdGF0dXMgPT0gJ25vdF9mb3VuZCcpIHsKICAgICAgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZTsKICAgICAgdGl0bGUgPSBkYXRhW2ldLnRpa2VyOwogICAgICB2YXJpYW50ID0gJ2Rhbmdlcic7CiAgICAgIHNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpOwogICAgfQoKICAgIGlmIChkYXRhW2ldLnN0YXR1cyA9PSAnZW1wdHlfdmFsdWUnKSB7CiAgICAgIHRleHQgPSBkYXRhW2ldLm1lc3NhZ2U7CiAgICAgIHRpdGxlID0gJ9Ce0YjQuNCx0LrQsCc7CiAgICAgIHZhcmlhbnQgPSAnZGFuZ2VyJzsKICAgICAgc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSk7CiAgICB9CgogICAgaWYgKGRhdGFbaV0uc3RhdHVzID09ICdkdWJsaWNhdGUnKSB7CiAgICAgIHRleHQgPSBkYXRhW2ldLm1lc3NhZ2U7CiAgICAgIHRpdGxlID0gZGF0YVtpXS50aWtlcjsKICAgICAgdmFyaWFudCA9ICdpbmZvJzsKICAgICAgc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/app/src/api/stock.js"],"names":["HTTP","Vue","Stock","create","config","post","then","response","notyfyuser","data","item","status","get_stock","catch","error","delete","note","id","get","show_toast","text","variant","title","mv","$bvToast","toast","autoHideDelay","appendToast","noCloseButton","i","length","message","tiker"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,OAAO,IAAMC,KAAK,GAAG;AACnBC,EAAAA,MADmB,kBACZC,MADY,EACJ;AAAA;;AACb,WAAOJ,IAAI,CAACK,IAAL,CAAU,aAAV,EAAyBD,MAAzB,EACJE,IADI,CACC,UAACC,QAAD,EAAc;AAClBC,MAAAA,UAAU,CAACD,QAAQ,CAACE,IAAV,CAAV;;AACA,WAAK,IAAIC,IAAT,IAAiBH,QAAQ,CAACE,IAA1B,EAAgC;AAC9B,YAAIF,QAAQ,CAACE,IAAT,CAAcC,IAAd,EAAoBC,MAApB,IAA8B,WAAlC,EAA+C;AAC7C,iBAAO,KAAI,CAACC,SAAL,EAAP;AACD;AACF;AACF,KARI,EASJC,KATI,CASE,UAACC,KAAD,EAAW;AAChBN,MAAAA,UAAU,CAACM,KAAK,CAACP,QAAN,CAAeE,IAAhB,CAAV,CADgB,CAEhB;AACD,KAZI,CAAP;AAaD,GAfkB;AAgBnBM,EAAAA,MAhBmB,mBAgBZC,IAhBY,EAgBN;AACX,WAAOhB,IAAI,CAACe,MAAL,yBAA6BC,IAAI,CAACC,EAAlC,OAAP;AACD,GAlBkB;AAmBnBL,EAAAA,SAnBmB,uBAmBP;AACV,WAAOZ,IAAI,CAACkB,GAAL,CAAS,aAAT,EAAwBZ,IAAxB,CAA6B,UAACC,QAAD,EAAc;AAC9C,aAAOA,QAAQ,CAACE,IAAhB;AACH,KAFM,CAAP;AAGD;AAvBkB,CAAd;AA0BP,OAAO,SAASU,UAAT,CAAoBC,IAApB,EAA0BC,OAA1B,EAAmCC,KAAnC,EAA0C;AAC/C,MAAMC,EAAE,GAAG,IAAItB,GAAJ,EAAX;AACAsB,EAAAA,EAAE,CAACC,QAAH,CAAYC,KAAZ,CAAkBL,IAAlB,EAAwB;AACtBE,IAAAA,KAAK,EAAEA,KADe;AAEtBI,IAAAA,aAAa,EAAE,KAFO;AAGtBL,IAAAA,OAAO,EAAEA,OAHa;AAItBM,IAAAA,WAAW,EAAE,IAJS;AAKtBC,IAAAA,aAAa,EAAE;AALO,GAAxB;AAOD;AAED,OAAO,SAASpB,UAAT,CAAoBC,IAApB,EAA0B;AAC/B,MAAIoB,CAAJ;;AACA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGpB,IAAI,CAACqB,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAChC,QAAIpB,IAAI,CAACoB,CAAD,CAAJ,CAAQlB,MAAR,IAAkB,OAAtB,EAA+B;AAC7B,UAAIS,IAAI,GAAGX,IAAI,CAACoB,CAAD,CAAJ,CAAQE,OAAnB;AACA,UAAIT,KAAK,GAAGb,IAAI,CAACoB,CAAD,CAAJ,CAAQG,KAApB;AACA,UAAIX,OAAO,GAAG,SAAd;AACAF,MAAAA,UAAU,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,CAAV;AACD;;AACD,QAAIb,IAAI,CAACoB,CAAD,CAAJ,CAAQlB,MAAR,IAAkB,WAAtB,EAAmC;AACjCS,MAAAA,IAAI,GAAGX,IAAI,CAACoB,CAAD,CAAJ,CAAQE,OAAf;AACAT,MAAAA,KAAK,GAAGb,IAAI,CAACoB,CAAD,CAAJ,CAAQG,KAAhB;AACAX,MAAAA,OAAO,GAAG,QAAV;AACAF,MAAAA,UAAU,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,CAAV;AACD;;AACD,QAAIb,IAAI,CAACoB,CAAD,CAAJ,CAAQlB,MAAR,IAAkB,aAAtB,EAAqC;AACnCS,MAAAA,IAAI,GAAGX,IAAI,CAACoB,CAAD,CAAJ,CAAQE,OAAf;AACAT,MAAAA,KAAK,GAAG,QAAR;AACAD,MAAAA,OAAO,GAAG,QAAV;AACAF,MAAAA,UAAU,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,CAAV;AACD;;AACD,QAAIb,IAAI,CAACoB,CAAD,CAAJ,CAAQlB,MAAR,IAAkB,WAAtB,EAAmC;AACjCS,MAAAA,IAAI,GAAGX,IAAI,CAACoB,CAAD,CAAJ,CAAQE,OAAf;AACAT,MAAAA,KAAK,GAAGb,IAAI,CAACoB,CAAD,CAAJ,CAAQG,KAAhB;AACAX,MAAAA,OAAO,GAAG,MAAV;AACAF,MAAAA,UAAU,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,CAAV;AACD;AACF;AACF","sourcesContent":["import {HTTP} from './common'\nimport Vue from 'vue'\n\nexport const Stock = {\n  create(config) {\n    return HTTP.post('/add_stock/', config)\n      .then((response) => {\n        notyfyuser(response.data)\n        for (var item in response.data) {\n          if (response.data[item].status != 'dublicate') {\n            return this.get_stock()\n          }\n        }\n      })\n      .catch((error) => {\n        notyfyuser(error.response.data)\n        //return error.response.data\n      })\n  },\n  delete(note) {\n    return HTTP.delete(`/delete_stock/${note.id}/`)\n  },\n  get_stock() {\n    return HTTP.get('/get_stock/').then((response) => {\n        return response.data\n    })\n  },\n}\n\nexport function show_toast(text, variant, title) {\n  const mv = new Vue()\n  mv.$bvToast.toast(text, {\n    title: title,\n    autoHideDelay: 15000,\n    variant: variant,\n    appendToast: true,\n    noCloseButton: false,\n  })\n}\n\nexport function notyfyuser(data) {\n  var i\n  for (i = 0; i < data.length; i++) {\n    if (data[i].status == 'found') {\n      var text = data[i].message\n      var title = data[i].tiker\n      var variant = 'success'\n      show_toast(text, variant, title)\n    }\n    if (data[i].status == 'not_found') {\n      text = data[i].message\n      title = data[i].tiker\n      variant = 'danger'\n      show_toast(text, variant, title)\n    }\n    if (data[i].status == 'empty_value') {\n      text = data[i].message\n      title = 'Ошибка'\n      variant = 'danger'\n      show_toast(text, variant, title)\n    }\n    if (data[i].status == 'dublicate') {\n      text = data[i].message\n      title = data[i].tiker\n      variant = 'info'\n      show_toast(text, variant, title)\n    }\n  }\n}\n"]}]}