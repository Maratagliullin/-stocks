{"remainingRequest":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/babel-loader/lib/index.js!/Users/maratagliullin/traiding_project/frontend/stock/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maratagliullin/traiding_project/frontend/stock/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maratagliullin/traiding_project/frontend/stock/src/components/StockForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maratagliullin/traiding_project/frontend/stock/src/components/StockForm.vue","mtime":1621839175000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/babel-loader/lib/index.js","mtime":1621533182000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/cache-loader/dist/cjs.js","mtime":1621533185000},{"path":"/Users/maratagliullin/traiding_project/frontend/stock/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovL0dldCBYLUNTUkZUb2tlbgpmdW5jdGlvbiBnZXRDb29raWUobmFtZSkgewogIHZhciBjb29raWVWYWx1ZSA9IG51bGw7CgogIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9PSAnJykgewogICAgdmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGNvb2tpZSA9IGNvb2tpZXNbaV0udHJpbSgpOyAvLyBEb2VzIHRoaXMgY29va2llIHN0cmluZyBiZWdpbiB3aXRoIHRoZSBuYW1lIHdlIHdhbnQ/CgogICAgICBpZiAoY29va2llLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCArIDEpID09PSBuYW1lICsgJz0nKSB7CiAgICAgICAgY29va2llVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhuYW1lLmxlbmd0aCArIDEpKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGNvb2tpZVZhbHVlOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0b2NrRm9ybScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0b2NrOiBudWxsLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaS92MS9hZGRfc3RvY2svJywgewogICAgICAgIHN0b2NrOiB0aGlzLnN0b2NrCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBnZXRDb29raWUoJ2NzcmZ0b2tlbicpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMubm90eWZ5dXNlcihyZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy5ub3R5Znl1c2VyKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBub3R5Znl1c2VyOiBmdW5jdGlvbiBub3R5Znl1c2VyKGRhdGEpIHsKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChkYXRhW2ldLnN0YXR1cyA9PSAnZm91bmQnKSB7CiAgICAgICAgICB2YXIgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZTsKICAgICAgICAgIHZhciB0aXRsZSA9IGRhdGFbaV0udGlrZXI7CiAgICAgICAgICB2YXIgdmFyaWFudCA9ICdzdWNjZXNzJzsKICAgICAgICAgIHRoaXMuc2hvd190b2FzdCh0ZXh0LCB2YXJpYW50LCB0aXRsZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0YVtpXS5zdGF0dXMgPT0gJ25vdF9mb3VuZCcpIHsKICAgICAgICAgIHRleHQgPSBkYXRhW2ldLm1lc3NhZ2U7CiAgICAgICAgICB0aXRsZSA9IGRhdGFbaV0udGlrZXI7CiAgICAgICAgICB2YXJpYW50ID0gJ2Rhbmdlcic7CiAgICAgICAgICB0aGlzLnNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGFbaV0uc3RhdHVzID09ICdlbXB0eV92YWx1ZScpIHsKICAgICAgICAgIHRleHQgPSBkYXRhW2ldLm1lc3NhZ2U7CiAgICAgICAgICB0aXRsZSA9ICfQntGI0LjQsdC60LAnOwogICAgICAgICAgdmFyaWFudCA9ICdkYW5nZXInOwogICAgICAgICAgdGhpcy5zaG93X3RvYXN0KHRleHQsIHZhcmlhbnQsIHRpdGxlKTsKICAgICAgICB9CgogICAgICAgIGlmIChkYXRhW2ldLnN0YXR1cyA9PSAnZHVibGljYXRlJykgewogICAgICAgICAgdGV4dCA9IGRhdGFbaV0ubWVzc2FnZTsKICAgICAgICAgIHRpdGxlID0gZGF0YVtpXS50aWtlcjsKICAgICAgICAgIHZhcmlhbnQgPSAnaW5mbyc7CiAgICAgICAgICB0aGlzLnNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNob3dfdG9hc3Q6IGZ1bmN0aW9uIHNob3dfdG9hc3QodGV4dCwgdmFyaWFudCwgdGl0bGUpIHsKICAgICAgdGhpcy4kYnZUb2FzdC50b2FzdCh0ZXh0LCB7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGF1dG9IaWRlRGVsYXk6IDE1MDAwLAogICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICAgICAgYXBwZW5kVG9hc3Q6IHRydWUsCiAgICAgICAgbm9DbG9zZUJ1dHRvbjogZmFsc2UKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["StockForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"stock_block\">\n    <form @submit.prevent=\"onSubmit\">\n      <div class=\"form-group\">\n        <label class=\"col-form-label\" for=\"stock\">Идентификатор акции</label>\n        <textarea\n          rows=\"3\"\n          v-model=\"stock\"\n          name=\"stock\"\n          type=\"text\"\n          class=\"form-control\"\n          id=\"stock\"\n          aria-describedby=\"phoneHelp\"\n          placeholder=\"\"\n        ></textarea>\n        <small id=\"stockHelp\" class=\"form-text text-muted\">\n          Допускается ввод как одного, так и нескольких значений, каждое из которых начинается с новой строки\n        </small>\n      </div>\n      <button class=\"btn btn-primary\">\n        Добавить\n      </button>\n       <transition name=\"fade\">\n      <b-spinner\n        v-show=\"loading\"\n        variant=\"info\"\n        style=\"width: 1.5rem; height: 1.5rem; margin-top: 5px;\"\n        class=\"float-right\"\n        label=\"Floated Right\"\n      ></b-spinner></transition>\n    </form>\n  </div>\n</template>\n\n<script>\n//Get X-CSRFToken\nfunction getCookie(name) {\n  let cookieValue = null\n  if (document.cookie && document.cookie !== '') {\n    const cookies = document.cookie.split(';')\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim()\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === name + '=') {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1))\n        break\n      }\n    }\n  }\n  return cookieValue\n}\n\nexport default {\n  name: 'StockForm',\n  data() {\n    return {\n      stock: null,\n      loading: false,\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.loading = true;  \n      this.axios\n        .post(\n          'http://localhost:8001/api/v1/add_stock/',\n          {\n            stock: this.stock,\n          },\n          {\n            headers: {\n              'X-CSRFToken': getCookie('csrftoken'),\n            },\n          }\n        )\n        .then((response) => {\n          this.loading = false;  \n          this.notyfyuser(response.data)\n        })\n        .catch((error) => {\n          this.loading = false; \n          this.notyfyuser(error.response.data)\n        })\n    },\n    notyfyuser(data) {\n      var i\n      for (i = 0; i < data.length; i++) {\n        if (data[i].status == 'found') {\n          var text = data[i].message\n          var title = data[i].tiker\n          var variant = 'success'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'not_found') {\n          text = data[i].message\n          title = data[i].tiker\n          variant = 'danger'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'empty_value') {\n          text = data[i].message\n          title = 'Ошибка'\n          variant = 'danger'\n          this.show_toast(text, variant, title)\n        }\n        if (data[i].status == 'dublicate') {\n          text = data[i].message\n          title = data[i].tiker\n          variant = 'info'\n          this.show_toast(text, variant, title)\n        }\n      }\n    },\n    show_toast(text, variant, title) {\n      this.$bvToast.toast(text, {\n        title: title,\n        autoHideDelay: 15000,\n        variant: variant,\n        appendToast: true,\n        noCloseButton: false,\n      })\n    },\n  },\n}\n</script>\n"],"sourceRoot":"src/components"}]}